<!-- HTML header for doxygen 1.8.15-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Documentation: Flow Data</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="examplegrabber.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="main.min.css" rel="stylesheet" type="text/css" />
</head>
<body class="l-docs-index p-doxygen">
<div class="l-index__content">
<!--div id="top"--><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea" class="g-header g-header--docs">
  <h1 class="c-brand">
  <a id="projectlogo" href="index.html" class="c-brand__link"><img class="c-brand__image" alt="Logo" src="logo-51Degrees-Docs.png"/></a>
  </h1>
  <div id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname" class="b-text--heading-4">Documentation
   &#160;<span id="projectnumber">4.0</span>
   </div>
  </div>
  <div id="main-nav"></div>
     <div class="c-search is-openable">
  <form class="c-search__form">
    <div id="MSearchBox" class="b-form-group b-form-group--with-icon">
      <label for="inputSearch" class="b-text--hidden">Search</label>
      <img id="MSearchSelect" src="../images/icon-search.svg" class="b-icon" alt="Search" 
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"/>
      <input type="text" id="MSearchField" autocomplete="off" class="c-search__input" id="inputSearch" placeholder="Type a class, namespace etc." aria-label="Search"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)">
       <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
    </div>
  </form>
</div>
</div>
<!-- end header part -->
<main class="g-main">
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<!-- top -->
	<div class="g-docs__sidenav">																														         <nav id="nav-tree-contents" class="c-sidenav">																														     <h4 class="c-sidenav__heading">Documentation</h4>																									         <div id="nav-sync" class="sync"></div>
  <ul class="c-sidenav__list">																														     </ul>																																				   </nav>    </div><script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('_concepts__data__flow_data.html','');});
/* @license-end */
</script>
<div id="doc-content" class="g-docs__content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="g-docs__header">
<div class="c-breadcrumb">
  <ul class="c-breadcrumb">
<li class="c-breadcrumb__item"><a class="c-breadcrumb__link" href="_concepts__index.html">Concepts</a></li><li class="c-breadcrumb__item"><a class="c-breadcrumb__link" href="_concepts__data__index.html">Data</a></li><li class="c-breadcrumb__item"><a class="c-breadcrumb__link" href="_concepts__data__flow_data.html">Flow Data</a></li>  </ul>
</div>
<h2 class="g-docs__page-title">Flow Data </h2></div><!--header-->
<div class="g-docs__inner">
<div class="g-docs__primary" id="primary">
<section class="g-docs__section"><h1 class="g-docs__section-heading">Introduction</h1>
<p><b>Flow data</b> is a container that encapsulates all the data related to a single <a class="el" href="_concepts__pipeline.html">Pipeline</a> process request. This includes input and output data as well as metadata related to the processing such as the details of any errors that occurred.</p>
<h1 class="g-docs__section-heading">Data Structure</h1>
<p><b>Flow data</b> has several sub-containers that are used to segment the data that it contains:</p><ul>
<li><a class="el" href="_concepts__data__evidence.html">Evidence</a></li>
<li><a class="el" href="_concepts__data__element_data.html">Element data</a></li>
<li>Errors</li>
</ul>
<h2>Evidence</h2>
<p>Before the <a class="el" href="_concepts__data__flow_data.html">flow data</a> is passed into the <a class="el" href="_concepts__pipeline.html">Pipeline</a>, input data is supplied. We refer to this data as '<a class="el" href="_concepts__data__evidence.html">evidence</a>'. The <a class="el" href="_concepts__data__evidence.html">evidence</a> can be set manually or automatically by using a <a class="el" href="_features__web_integration.html">web integration</a> package (where available) for your web framework of choice.</p>
<h2>Element Data</h2>
<p>The responses from each <a class="el" href="_concepts__flow_elements__flow_element.html">flow element</a> are stored in key/value pair structure within <b>flow data</b>. In each case, <a class="el" href="_concepts__data__element_data_key.html">the key</a> is the string key of the <a class="el" href="_concepts__flow_elements__flow_element.html">flow element</a> and the value is an <a class="el" href="_concepts__data__element_data.html">element data</a> instance. The <a class="el" href="_concepts__data__element_data.html">element data</a> structure is visible to each <a class="el" href="_concepts__flow_elements__flow_element.html">flow element</a> so one <a class="el" href="_concepts__flow_elements__flow_element.html">element</a> can use the result from another <a class="el" href="_concepts__flow_elements__flow_element.html">element</a> in its processing.</p>
<p>An example where this is required is the 51Degrees <a class="el" href="_concepts__flow_elements__cloud_engine.html">cloud engines</a>. First, an <a class="el" href="_concepts__flow_elements__flow_element.html">element</a> makes an HTTP request to the cloud and stores the JSON response in the <b>flow data</b>. Later, another <a class="el" href="_concepts__flow_elements__flow_element.html">element</a> takes that JSON response and parses it to populate a strongly typed object with values for the specific <a class="el" href="_concepts__terminology.html#Concepts_Terminology_Aspect">aspect</a> it is concerned with.</p>
<h2>Errors<a class="anchor" id="Concepts_Data_FlowData_Errors"></a></h2>
<p>The errors collection stores the details of any errors that occur during processing. The language's default exception handling mechanism will be used to catch and record any exceptions that occur when a <a class="el" href="_concepts__flow_elements__flow_element.html">flow element</a> is processing. However, processing of later <a class="el" href="_concepts__flow_elements__flow_element.html">flow elements</a> will continue as normal.</p>
<p>By default, once all <a class="el" href="_concepts__flow_elements__flow_element.html">flow elements</a> have been processed, an exception will be thrown with details of any errors that have occurred.</p>
<p>The <a class="el" href="_concepts__configuration__builders__pipeline_builder.html">pipeline builder</a> has an option to modify this behavior so that exceptions are totally suppressed. In this situation, the caller is responsible for handling any exceptions by checking the errors collection after processing.</p>
<h1 class="g-docs__section-heading">Life Cycle</h1>
<h2>Creation</h2>
<p><b>Flow data</b> is only ever created by a <a class="el" href="_concepts__pipeline.html">Pipeline</a>, when the <code>CreateFlowData</code> method is called. This allows the <a class="el" href="_concepts__pipeline.html">Pipeline</a> to create the <b>flow data</b> internal data structures using implementations that are most appropriate for the configuration of the <a class="el" href="_concepts__flow_elements__flow_element.html">flow elements</a> in the <a class="el" href="_concepts__pipeline.html">Pipeline</a>.</p>
<p>For example, thread-safe but slower data collections only need to be used if the <a class="el" href="_concepts__pipeline.html">Pipeline</a> is configured to execute <a class="el" href="_concepts__flow_elements__flow_element.html">elements</a> in <a class="el" href="_features__parallel_execution.html">parallel</a>.</p>
<h2>Disposal / Cleanup</h2>
<p><b>Flow data</b> should be disposed of correctly when no longer in use. This ensures that any resources being held by the instance are correctly freed.</p>
<p>TODO: Add the snippets for this example.</p>
<hr/>
<p> 

<button class="b-btn b-btn--secondary disposalBtn" onclick="grabSnippet(this, 'pipeline-dotnet', '_snippets.html', 'dispose-flowdata-cs', 'disposalBtn', 'disposal-eg')">C#</button>
<button class="b-btn b-btn--secondary disposalBtn" onclick="grabSnippet(this, 'pipeline-java', '_snippets.html', 'dispose-flowdata-java', 'disposalBtn', 'disposal-eg')">Java</button>
<button class="b-btn b-btn--secondary disposalBtn" onclick="grabSnippet(this, 'pipeline-php', '_snippets.html', 'dispose-flowdata-php', 'disposalBtn', 'disposal-eg')">PHP</button>
<button class="b-btn b-btn--secondary disposalBtn" onclick="grabSnippet(this, 'pipeline-node', '_snippets.html', 'dispose-flowdata-node', 'disposalBtn', 'disposal-eg')">Node.js</button>
<div id="disposal-eg"></div>

</p>
<hr/>
<h1 class="g-docs__section-heading">Thread Safety<a class="anchor" id="Concepts_Data_FlowData_ThreadSafety"></a></h1>
<hr/>
<p> <div class="c-tabgroup">   <button class="b-btn b-btn--tab" onclick="showSnippet(this,'dotnet')">C#</button>   <button class="b-btn b-btn--tab" onclick="showSnippet(this,'java')">Java</button>   <button class="b-btn b-btn--tab" onclick="showSnippet(this,'php')">PHP</button>   <button class="b-btn b-btn--tab" onclick="showSnippet(this,'node')">Node.js</button>   <div class="c-tabgroup__main" data-lang="dotnet" style="display:none;">  In .NET, by default, the non-thread-safe Dictionary class is used for both <a class="el" href="_concepts__data__element_data.html">element data</a> and <a class="el" href="_concepts__data__evidence.html">evidence</a>.</p>
<p>In both cases, this can be overridden to use another IDictionary implementation such as the thread-safe ConcurrentDictionary.</p>
<p>The errors collection uses the List class. This is not thread-safe. As performance is less of an issue with this collection, a simple lock is used to synchronize items being added to the list.  </div>   <div class="c-tabgroup__main" data-lang="java" style="display:none;">  <b>todo</b>  </div>   <div class="c-tabgroup__main" data-lang="php" style="display:none;">  PHP runs in a single thread. Consequently, elements cannot run in parallel and concurrency issues are not a concern.  </div>   <div class="c-tabgroup__main" data-lang="node" style="display:none;">  <b>todo</b>  </div>   </div> </p>
<hr/>
 </section></div><!-- PageDoc -->
</div><!-- primary -->
</div><!-- inner-->
<!-- HTML footer for doxygen 1.8.15-->
<!-- start footer part -->
<section id="nav-path" class="g-footer g-footer--docs"><!-- id is needed for treeview function! -->
    <p class="g-footer__copyright">Generated on Thu Nov 7 2019 15:15:45 for Documentation by
    <a href="http://www.doxygen.org/index.html">
    <b>doxygen</b></a> 1.8.15
  </p>
</section>
</div>
</main>
</div>
</body>
</html>
