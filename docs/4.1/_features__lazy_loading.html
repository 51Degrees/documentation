<!-- HTML header for doxygen 1.8.15-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>51Degrees Pipeline Documentation: Lazy Loading</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="examplegrabber.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="docs-main.min.css" rel="stylesheet" type="text/css" />
</head>
<body class="l-docs-index p-doxygen">
<div class="l-index__content">
<!--div id="top"--><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea" class="g-header g-header--docs">
  <h1 class="c-brand">
  <a id="projectlogo" href="index.html" class="c-brand__link"><img class="c-brand__image" alt="Logo" src="logo-51Degrees-Docs.png"/></a>
  <span class="c-tagline">51Degrees Pipeline Documentation
   &#160;<span id="projectnumber">4.1</span>
  </span>
  </h1>
  <div id="projectalign" style="padding-left: 0.5em;">
  </div>
  <div id="main-nav"></div>
     <div class="g-search">
    <div class="c-search is-openable">
    <form class="c-search__form">
      <div id="MSearchBox" class="b-form-group b-form-group--with-icon">
        <label for="inputSearch" class="b-text--hidden">Search</label>
        <img id="MSearchSelect" src="icon-search.svg" class="b-icon" alt="Search" 
                 onmouseover="return searchBox.OnSearchSelectShow()"
                 onmouseout="return searchBox.OnSearchSelectHide()"/>
        <input type="text" id="MSearchField" autocomplete="off" class="c-search__input" id="inputSearch" placeholder="Type a class, namespace etc." aria-label="Search"
                 onfocus="searchBox.OnSearchFieldFocus(true)" 
                 onblur="searchBox.OnSearchFieldFocus(false)" 
                 onkeyup="searchBox.OnSearchFieldChange(event)">
         <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
      </div>
    </form>
  </div>
</div>
</div>
<!-- end header part -->
<main class="g-main">
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<!-- top -->
	<div class="g-docs__sidenav">																														         <nav id="nav-tree-contents" class="c-sidenav">																														     <h4 class="c-sidenav__heading">Documentation</h4>																									         <div id="nav-sync" class="sync"></div>
  <ul class="c-sidenav__list">																														     </ul>																																				   </nav>    </div><script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('_features__lazy_loading.html','');});
/* @license-end */
</script>
<div id="doc-content" class="g-docs__content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="g-docs__header">
<div class="c-breadcrumb">
  <ul class="c-breadcrumb">
<li class="c-breadcrumb__item"><a class="c-breadcrumb__link" href="_features__index.html">Features</a></li><li class="c-breadcrumb__item"><a class="c-breadcrumb__link" href="_features__lazy_loading.html">Lazy Loading</a></li>  </ul>
</div>
<h2 class="g-docs__page-title">Lazy Loading </h2></div><!--header-->
<div class="g-docs__inner">
<div class="g-docs__primary" id="primary">
<section class="g-docs__section"><h1 class="g-docs__section-heading">Introduction</h1>
<p><b>Lazy loading</b> is a concept whereby an object is not loaded until it is actually needed. This can mean that it does not start loading until it is required, or it is loaded in the background so that there is no delay in the execution of other logic. The latter is usually preferable, as loading in the background often results in no waiting at all (i.e. by the time the object is needed, it has already been loaded).</p>
<p>In the context of a <a class="el" href="_concepts__pipeline.html">Pipeline</a>, <b>lazy loading</b> refers to the way values are populated in an <a class="el" href="_concepts__data__aspect_data.html">aspect data</a>. Usually the default is to not <b>lazily load</b> them, so an <a class="el" href="_concepts__flow_elements__aspect_engine.html">aspect engine</a>'s processing does not finish until all values have been populated. When <b>lazy loading</b> is configured in an <a class="el" href="_concepts__flow_elements__aspect_engine.html">aspect engine</a>, values begin to load in another thread, and other processing can continue.</p>
<h1 class="g-docs__section-heading">Caveats</h1>
<p>Getting an <a class="el" href="_concepts__meta_data__aspect_properties.html">aspect property</a>'s value from an <a class="el" href="_concepts__data__aspect_data.html">aspect data</a> which has been <b>lazily loaded</b> has the added complexity of the value not yet being known. Consequently, an exception that would otherwise have occurred during the <a class="el" href="_concepts__pipeline.html">Pipeline</a>'s processing stage has now been deferred until the point at which a value is fetched. When <b>lazy loading</b> is enabled, this extra possibility of an error should be taken into consideration.</p>
<p>TODO: Add examples of how to handle these errors.</p>
<h1 class="g-docs__section-heading">Configuration</h1>
<p><b>Lazy loading</b> has two main configuration options.</p>
<h2>Property Timeout</h2>
<p>As it is not known at the point of fetching an <a class="el" href="_concepts__meta_data__aspect_properties.html">aspect property</a>'s value whether or not it has been populated, a timeout option is available. This is the time to wait for the value before throwing an exception.</p>
<h2>Cancellation</h2>
<p>In languages where it is possible, a 'cancellation token' can be provided. This is a means of canceling all processing which is still being carried out internally to the <a class="el" href="_concepts__data__aspect_data.html">aspect data</a>.</p>
<h1 class="g-docs__section-heading">Implementation</h1>
<p> <div class="c-tabgroup">   <button class="b-btn b-btn--tab" onclick="showSnippet(this,'dotnet')">C#</button>   <button class="b-btn b-btn--tab" onclick="showSnippet(this,'java')">Java</button>   <button class="b-btn b-btn--tab" onclick="showSnippet(this,'php')">PHP</button>   <button class="b-btn b-btn--tab" onclick="showSnippet(this,'node')">Node.js</button>   <div class="c-tabgroup__main" data-lang="none" style="display:block;">  Select a tab to view language specific implementation details. </div>   <div class="c-tabgroup__main" data-lang="dotnet" style="display:none;">  <b>Lazy loading</b> functionality in .NET is fulfilled by <code>Tasks</code>. An <a class="el" href="_concepts__flow_elements__aspect_engine.html">aspect engine</a>'s processing will be added to its <a class="el" href="_concepts__data__aspect_data.html">aspect data</a> as a new <code>Task</code> using its <code>AddProcessTask</code> method . Then when a value is requested from the <a class="el" href="_concepts__data__aspect_data.html">aspect data</a>, the <code>Task</code> is waited on by internal methods.</p>
<p>The cancellation token in C# is the <code>CancellationToken</code> class from System.</p>
<p>In the case where fetching a property times out, a <code>TimeoutException</code> is thrown, or if the token has been used to cancel processing, a <code>OperationCanceledException</code> is thrown.  </div>   <div class="c-tabgroup__main" data-lang="java" style="display:none;">  <b>Lazy loading</b> functionality in Java is fulfilled by the <code>Callable</code> class which returns a <code>Future</code>. An <a class="el" href="_concepts__flow_elements__aspect_engine.html">aspect engine</a>'s processing will be added to its <a class="el" href="_concepts__data__aspect_data.html">aspect data</a> as a new <code>Callable</code> using its <code>addProcessCallable</code> method. Then when a value is requested from the <a class="el" href="_concepts__data__aspect_data.html">aspect data</a>, the <code>Future</code> is waited on by internal methods.</p>
<p>Java does not support cancellation tokens. However, an aggregate <code>Future</code> is exposed by an <a class="el" href="_concepts__data__aspect_data.html">aspect data</a> which can be canceled in the same manner as an individual <code>Future</code>, canceling all futures associated with the <a class="el" href="_concepts__data__aspect_data.html">aspect data</a>.</p>
<p>In the case where fetching a property times out, a <code>LazyLoadTimeoutException</code> is thrown. Or, if the token has been used to cancel processing, a <code>CancellationException</code> is thrown.  </div>   <div class="c-tabgroup__main" data-lang="php" style="display:none;">  <b>todo</b>  </div>   <div class="c-tabgroup__main" data-lang="node" style="display:none;">  <b>todo</b>  </div>   </div>  </p>
</section></div><!-- PageDoc -->
</div><!-- primary -->
</div><!-- inner-->
<!-- HTML footer for doxygen 1.8.15-->
<!-- start footer part -->
<section id="nav-path" class="g-footer g-footer--docs"><!-- id is needed for treeview function! -->
    <p class="g-footer__copyright">Generated by
    <a href="http://www.doxygen.org/index.html">
    <b>doxygen</b></a> 1.8.15
  </p>
</section>
</div>
</main>
</div>
</body>
</html>
