<!-- HTML header for doxygen 1.8.15-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>51Degrees Pipeline Documentation: Flexible Accessors</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="examplegrabber.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="docs-main.min.css" rel="stylesheet" type="text/css" />
</head>
<body class="l-docs-index p-doxygen">
<div class="l-index__content">
<!--div id="top"--><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea" class="g-header g-header--docs">
  <h1 class="c-brand">
  <a id="projectlogo" href="index.html" class="c-brand__link"><img class="c-brand__image" alt="Logo" src="logo-51Degrees-Docs.png"/></a>
  <span class="c-tagline">51Degrees Pipeline Documentation
   &#160;<span id="projectnumber">4.1</span>
  </span>
  </h1>
  <div id="projectalign" style="padding-left: 0.5em;">
  </div>
  <div id="main-nav"></div>
     <div class="g-search">
    <div class="c-search is-openable">
    <form class="c-search__form">
      <div id="MSearchBox" class="b-form-group b-form-group--with-icon">
        <label for="inputSearch" class="b-text--hidden">Search</label>
        <img id="MSearchSelect" src="icon-search.svg" class="b-icon" alt="Search" 
                 onmouseover="return searchBox.OnSearchSelectShow()"
                 onmouseout="return searchBox.OnSearchSelectHide()"/>
        <input type="text" id="MSearchField" autocomplete="off" class="c-search__input" id="inputSearch" placeholder="Type a class, namespace etc." aria-label="Search"
                 onfocus="searchBox.OnSearchFieldFocus(true)" 
                 onblur="searchBox.OnSearchFieldFocus(false)" 
                 onkeyup="searchBox.OnSearchFieldChange(event)">
         <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
      </div>
    </form>
  </div>
</div>
</div>
<!-- end header part -->
<main class="g-main">
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<!-- top -->
	<div class="g-docs__sidenav">																														         <nav id="nav-tree-contents" class="c-sidenav">																														     <h4 class="c-sidenav__heading">Documentation</h4>																									         <div id="nav-sync" class="sync"></div>
  <ul class="c-sidenav__list">																														     </ul>																																				   </nav>    </div><script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('_features__flexible_accessors.html','');});
/* @license-end */
</script>
<div id="doc-content" class="g-docs__content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="g-docs__header">
<div class="c-breadcrumb">
  <ul class="c-breadcrumb">
<li class="c-breadcrumb__item"><a class="c-breadcrumb__link" href="_features__index.html">Features</a></li><li class="c-breadcrumb__item"><a class="c-breadcrumb__link" href="_features__flexible_accessors.html">Flexible Accessors</a></li>  </ul>
</div>
<h2 class="g-docs__page-title">Flexible Accessors </h2></div><!--header-->
<div class="g-docs__inner">
<div class="g-docs__primary" id="primary">
<section class="g-docs__section"><h1 class="g-docs__section-heading">Introduction</h1>
<p>The <a class="el" href="_concepts__pipeline.html">Pipeline</a> API has been designed to be easy-to-use, adding IDE auto-complete support where possible. However, one of our key design goals was to allow new properties to be added without the API software needing to be updated. These goals are often in conflict and lead to the creation of several possible mechanisms to retrieve property values.</p>
<h1 class="g-docs__section-heading">Detail</h1>
<p>The precise nature of the available accessors depend on the language being used but we have aimed to support the following use-cases:</p>
<ol type="1">
<li>Accessing properties without any 'magic strings' and with IDE auto-complete support.</li>
<li>Accessing a property that has been returned by the data source but that did not exist when the current version of the <a class="el" href="_concepts__flow_elements__flow_element.html">flow element</a> was built.</li>
<li>Accessing a property without first accessing the associated <a class="el" href="_concepts__data__aspect_data.html">aspect data</a>.</li>
</ol>
<p> <div class="c-tabgroup">   <button class="b-btn b-btn--tab" onclick="showSnippet(this,'dotnet')">C#</button>   <button class="b-btn b-btn--tab" onclick="showSnippet(this,'java')">Java</button>   <button class="b-btn b-btn--tab" onclick="showSnippet(this,'php')">PHP</button>   <button class="b-btn b-btn--tab" onclick="showSnippet(this,'node')">Node.js</button>   <div class="c-tabgroup__main" data-lang="none" style="display:block;">  Select a tab to view language specific information on the internal data structure. </div>   <div class="c-tabgroup__main" data-lang="dotnet" style="display:none;">  In .NET, IDE auto-complete support is dependent on having a specific interface/type with defined properties. This is supported by allowing the <a class="el" href="_concepts__data__aspect_data.html">aspect data</a> type and associated interface to be extended for each engine. <a class="el" href="_concepts__data__flow_data.html">Flow data</a> can then then return this specific type/interface. For example, the 51Degrees device detection engines use the IDeviceData interface to define all the properties that are available. After <a class="el" href="_concepts__data__flow_data.html">flow data</a> has been processed, you can request the IDeviceData from it:</p>
<div class="c-code__block c-code__block--outline"><div class="c-code__line">var deviceData = flowdata.Get&lt;IDeviceData&gt;();</div></div><p>If you have an instance of the element that you want to get data for, this can also be used to get the data populated by that instance:</p>
<div class="c-code__block c-code__block--outline"><div class="c-code__line">var deviceData = flowdata.getFromElement(deviceDetectionEngine);</div></div><p>After you have the specific element data instance, the individual properties can be accessed as normal using strongly typed property accessors. For example, accessing the <code>IsMobile</code> property looks like this:</p>
<div class="c-code__block c-code__block--outline"><div class="c-code__line">flowdata.Get&lt;IDeviceData&gt;().IsMobile;</div></div><p>Where a new property is present in the data source that did not exist when the code was compiled, a string-based accessor can be used instead. As long as you know the string name of the property you can access it, even if it does not exist in the interface. The downside is that this is not strongly-typed so you will need to deal with casting. For example, accessing the <code>IsMobile</code> property in this way can be done like this:</p>
<div class="c-code__block c-code__block--outline"><div class="c-code__line">flowdata.Get&lt;IDeviceData&gt;()[<span class="c-code__stringliteral">&quot;IsMobile&quot;</span>];</div></div><p>The <code>GetAs</code> variation can be used if you know the type of the property:</p>
<div class="c-code__block c-code__block--outline"><div class="c-code__line">flowdata.Get&lt;IDeviceData&gt;().GetAs&lt;AspectPropertyValue&lt;bool&gt;&gt;(<span class="c-code__stringliteral">&quot;IsMobile&quot;</span>);</div></div><p>In addition, a shortcut can be used to access the property without specifying the associated flow element/engine at all. However, this has the downside that you will need to know the type of the property you are accessing. For example, the <code>IsMobile</code> property can be accessed like this:</p>
<div class="c-code__block c-code__block--outline"><div class="c-code__line">flowdata.GetAs&lt;AspectPropertyValue&lt;bool&gt;&gt;(<span class="c-code__stringliteral">&quot;IsMobile&quot;</span>);</div></div><p>  </div>   <div class="c-tabgroup__main" data-lang="java" style="display:none;">  In Java, IDE auto-complete support is dependent on having a specific interface/type with defined properties. This is supported by allowing the <a class="el" href="_concepts__data__aspect_data.html">aspect data</a> interface to be extended for each engine. <a class="el" href="_concepts__data__flow_data.html">Flow data</a> can then then return this specific interface. For example, the 51Degrees device detection engines use the DeviceData interface to define all the properties that are available. After <a class="el" href="_concepts__data__flow_data.html">flow data</a> has been processed, you can request the DeviceData from it:</p>
<div class="c-code__block c-code__block--outline"><div class="c-code__line">DeviceData deviceData = flowdata.get(DeviceData.class);</div></div><p>If you have an instance of the element that you want to get data for, this can also be used to get the data populated by that instance:</p>
<div class="c-code__block c-code__block--outline"><div class="c-code__line">DeviceData deviceData = flowdata.getFromElement(deviceDetectionEngine);</div></div><p>After you have the specific element data instance, the individual properties can be accessed as normal using strongly typed property getters. For example, accessing the <code>IsMobile</code> property looks like this:</p>
<div class="c-code__block c-code__block--outline"><div class="c-code__line">flowdata.get(DeviceData.class).getIsMobile();</div></div><p>Where a new property is present in the data source that did not exist when the code was compiled, a string-based accessor can be used instead. As long as you know the string name of the property you can access it, even if it does not exist in the interface. The downside is that this is not strongly-typed so you will need to deal with casting. For example, accessing the <code>IsMobile</code> property in this way can be done like this:</p>
<div class="c-code__block c-code__block--outline"><div class="c-code__line">flowdata.get(DeviceData.class).get(<span class="c-code__stringliteral">&quot;IsMobile&quot;</span>);</div></div><p>In addition, a shortcut can be used to access the property without specifying the associated flow element/engine at all. However, this has the downside that you will need to know the type of the property you are accessing. For example, the <code>IsMobile</code> property can be accessed like this:</p>
<div class="c-code__block c-code__block--outline"><div class="c-code__line">flowdata.getAs(<span class="c-code__stringliteral">&quot;IsMobile&quot;</span>, AspectPropertyValue.class, Boolean.class);</div></div><p>  </div>   <div class="c-tabgroup__main" data-lang="php" style="display:none;">  In PHP, auto-complete support is not feasible so you need to know the name of the element and property that you're accessing. For example, if you are using the 51Degrees device detection engine then after the <a class="el" href="_concepts__data__flow_data.html">flow data</a> has been processed, you can request the device data from it:</p>
<div class="c-code__block c-code__block--outline"><div class="c-code__line">var deviceData = flowdata-&gt;device;</div></div><p>If you have an instance of the element that you want to get data for, this can also be used to get the data populated by that instance without having to know the associated name:</p>
<div class="c-code__block c-code__block--outline"><div class="c-code__line">var deviceData = flowdata-&gt;getFromElement(deviceDetectionEngine);</div></div><p>After you have the specific element data instance, the individual properties can be accessed using normal property accessors. PHP's weakly typed nature means that the scenario where a new property is available in the data source is not a problem. Wherever it's come from, you just need to know the name of the property you want to retrieve. For example, accessing the <code>IsMobile</code> property looks like this:</p>
<div class="c-code__block c-code__block--outline"><div class="c-code__line">flowdata-&gt;device-&gt;ismobile;</div></div><p>  </div>   <div class="c-tabgroup__main" data-lang="node" style="display:none;">  In Node, auto-complete support is not feasible so you need to know the name of the element and property that you're accessing. For example, if you are using the 51Degrees device detection engine then after the <a class="el" href="_concepts__data__flow_data.html">flow data</a> has been processed, you can request the device data from it:</p>
<div class="c-code__block c-code__block--outline"><div class="c-code__line">var deviceData = flowdata.device;</div></div><p>If you have an instance of the element that you want to get data for, this can also be used to get the data populated by that instance without having to know the associated name:</p>
<div class="c-code__block c-code__block--outline"><div class="c-code__line">var deviceData = flowdata.getFromElement(deviceDetectionEngine);</div></div><p>After you have the specific element data instance, the individual properties can be accessed using normal property accessors. Node's weakly typed nature means that the scenario where a new property is available in the data source is not a problem. Wherever it's come from, you just need to know the name of the property you want to retrieve. For example, accessing the <code>IsMobile</code> property looks like this:</p>
<div class="c-code__block c-code__block--outline"><div class="c-code__line">flowdata.device.ismobile;</div></div><p>  </div>   </div>  </p>
</section></div><!-- PageDoc -->
</div><!-- primary -->
</div><!-- inner-->
<!-- HTML footer for doxygen 1.8.15-->
<!-- start footer part -->
<section id="nav-path" class="g-footer g-footer--docs"><!-- id is needed for treeview function! -->
    <p class="g-footer__copyright">Generated by
    <a href="http://www.doxygen.org/index.html">
    <b>doxygen</b></a> 1.8.15
  </p>
</section>
</div>
</main>
</div>
</body>
</html>
