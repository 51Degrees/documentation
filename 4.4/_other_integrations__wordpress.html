<!-- HTML header for doxygen 1.8.15-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>51Degrees API Documentation: WordPress</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="examplegrabber.js"></script>
<script type="text/javascript" src="search51.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="docs-main.min.css" rel="stylesheet" type="text/css" />
</head>
<body class="l-docs-index p-doxygen">
<div class="l-index__content">
<!--div id="top"--><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea" class="g-header g-header--docs">
  <h1 class="c-brand">
  <a id="projectlogo" href="index.html" class="c-brand__link"><img class="c-brand__image" alt="Logo" src="logo-51Degrees-Docs.png" style="width:172px;"/></a>
  <span class="c-tagline">51Degrees API Documentation
   &#160;<span id="projectnumber">4.4</span>
  </span>
  </h1>
  <div id="projectalign" style="padding-left: 0.5em;">
  </div>
  <div id="main-nav"></div>
  <section class="g-search">
    <div class="c-search is-openable" id="searchOpenable">
    <form class="c-search__form">
      <div class="b-form-group b-form-group--with-icon">
        <label for="inputSearch" class="b-text--hidden">Search</label>
        <img src="icon-search.svg" class="b-icon" alt="Search" />
        <input type="text" class="c-search__input" id="inputSearch" onkeyup="javascript:onSearch(this,event.keyCode)" placeholder="Search" aria-label="Search">
      </div>
    </form>
    <div class="c-search__content" id="searchContent">
    </div>
  </div> 
  </section>
</div>
<!-- end header part -->
<main class="g-main">
<!-- Generated by Doxygen 1.8.15 -->
<!-- top -->
	<div class="g-docs__sidenav">																														         <nav id="nav-tree-contents" class="c-sidenav">																														     <h4 class="c-sidenav__heading">Documentation</h4>																									         <div id="nav-sync" class="sync"></div>
  <ul class="c-sidenav__list">																														     </ul>																																				   </nav>    </div><script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('_other_integrations__wordpress.html','');});
/* @license-end */
</script>
<div id="doc-content" class="g-docs__content">
<div class="PageDoc"><div class="g-docs__header">
<div class="c-breadcrumb">
  <ul class="c-breadcrumb">
<li class="c-breadcrumb__item"><a class="c-breadcrumb__link" href="_other_integrations__index.html">Other Integrations</a></li><li class="c-breadcrumb__item"><a class="c-breadcrumb__link" href="_other_integrations__wordpress.html">WordPress</a></li>  </ul>
</div>
<h2 class="g-docs__page-title">WordPress </h2></div><!--header-->
<div class="g-docs__inner">
<div class="g-docs__primary" id="primary">
<section class="g-docs__section"><h1 class="g-docs__section-heading">51Degrees - Optimize by Device &amp; Location</h1>
<p>Optimize your website for a range of devices and personalize your content based on your user’s location.</p>
<p>Using real-time data, our plugin can optimize your website for users, based on device type and location. Upgrade your analytic reporting with a click of a button. Install from the WordPress plugin manager by searching for “51Degrees”.</p>
<p> 
<iframe src="https://player.vimeo.com/video/631017900?h=8e8c844804" width="640" height="360" frameborder="0" allow="autoplay; fullscreen" allowfullscreen></iframe>
</p>
<h2>After activation</h2>
<ol type="1">
<li>Visit the new <code>51Degrees</code> Settings menu.</li>
<li>To start using this plugin, you will need to create a <code>Resource Key</code>. This enables access to the data you need via the 51Degrees cloud service. You can create a <code>Resource Key</code> for free, using the <a href="https://configure.51degrees.com/">configurator</a> to select the properties you want.</li>
</ol>
<h2>Integration with Google Analytics</h2>
<ol type="1">
<li>To integrate with Google Analytics, go to the <code>Google Analytics</code> tab and click <code>Log in with Google Analytics Account</code> button, follow the steps and give the 51Degrees plugin the required permissions. Copy the provided Google Analytics <code>Access Code</code>.</li>
<li>Enter the copied Code in the <code>Access Code</code> text field and click <code>Authenticate</code>. This will connect your Google Analytics account to the 51Degrees plugin.</li>
<li>After authentication, select your preferred profiles for which you want to enable Custom Dimensions Tracking via the <code>Google Analytics Property</code> dropdown.</li>
<li>Check <code>Send Page View</code> if you want to send Default Page View hits along with Custom Dimensions. It is only recommended if you have not already integrated with any other Google Analytics plugin to avoid data duplication.</li>
<li>Click <code>Save Changes</code>. This will prompt to the new Custom Dimensions screen where you can find all the Custom Dimensions available with the Resource Key.</li>
<li>Click on <code>Enable Google Analytics Tracking</code> to enable tracking of all the Device Data Properties as Custom Dimensions.</li>
</ol>
<h2>Developer information and advanced features</h2>
<p><em>Value replacement</em></p>
<p>You can insert snippets into your pages that will be replaced with the corresponding value. For example, the text <code>{Pipeline::get("device", "browsername")}</code> would be replaced with <code>Chrome</code>, <code>Safari</code> and <code>Firefox</code>, etc. Depending on the browser being used by the person visiting your site. To set this up, take the text from the 'Usage in Content' column on the 'Properties' tab of the plugin.</p>
<p><em>Conditional blocks</em></p>
<p>This feature allows you to show/hide content based on the property values supplied by the Pipeline API. To start, click 'add a new block' and select the <code>51Degrees conditional group block</code>. Select the block to display the configuration UI on the right-hand side. For example, you can configure the block to only appear if the hardware vendor property is 'Apple'.</p>
<h2>Accessing properties in PHP code</h2>
<p>To get a specific property, look it up on the available properties list and use the get() method specified.</p>
<p><code>Pipeline::get("device", "ismobile")</code> You can also get a list of properties by category as an array.</p>
<p><code>Pipeline::getCategory("Supported Media"))</code> The code snippet above will give you all the properties with <code>Supported Media</code> category included in the Resource Key.</p>
<h2>JavaScript Integration</h2>
<p>The 51Degrees library exposes the same property values in JavaScript. These are accessed through the global <code>fod</code> object</p>
<p>```json &lt;script type="text/javascript"&gt; window.onload = function() { fod.complete(function(data){ // console.log(data.device.screenpixelswidth); }); } &lt;/script&gt; '</p>
<p>In some cases, additional evidence needs to be gathered by running JavaScript on the client. This is mostly handled automatically by the plugin and the fod object. For specific examples, see the 'Location' and 'Apple device models' sections below.</p>
<h2>Location</h2>
<p>Location works slightly differently to other properties. Currently, the address is determined from the location provided by the client's device. When this data is requested, a confirmation pop-up will appear. It is good practice to delay the appearance of this pop-up until the location is really needed. Otherwise, the user may not know why they are being asked for the information and is more likely to refuse. To facilitate this, the location data needs to be explicitly requested by adding some additional JavaScript. There are many ways to do this but for an example, we have gone with the simplest approach.</p>
<p>Firstly, add a button to your page. Make sure to set a css class that we can use to identify this button and add an event to it.</p>
<p>Next, add an HTML element and paste the following snippet of code into it:</p>
<p>&lt;script type="text/javascript"&gt; window.onload = function() { var elements = document.getElementsByClassName('get-user-location');</p>
<p>for(var i = 0; i &lt; elements.length; i++) { elements[i].addEventListener('click', function() { fod.complete(function(data) { /* use values here if needed e.g. data.location.country will contain country the user is in */ }, 'location'); }); } }; &lt;/script&gt;</p>
<p>Now, when the user clicks on the 'Use my location' button, the JavaScript that we pasted in will execute. This lets the global <code>fod</code> object know that we want access to the location data, which in turn causes the 'wants to know your location' confirmation pop-up to be displayed.</p>
<p><b>Note:</b> On the first request, the server will not have the location information so the location properties will not have values. After the button is clicked, we need to make another request to the server for the location values to be populated. The content on the page can also be updated by using JavaScript, rather than waiting for the user to make a second request. This involves editing the JavaScript snippet above to update the page within the callback function that is passed to fod.complete.</p>
<h2>Apple device models</h2>
<p>Determining the exact model of Apple devices is more difficult that others. This is because Apple include limited information about the device hardware in the 'User-Agent' HTTP header that is sent to the webserver. To get around this problem, device detection uses JavaScript that runs directly on the client to gather some additional information. This can usually be used to determine the exact model of device and will at least narrow down the possibilities.</p>
<p>The WordPress plugin will handle this for you automatically. However, be aware that, due to having to get additional data from the client, the model may be less clear on the first request than on subsequent requests. After the JavaScript runs on the client, a second request is made and the array of values would be significantly narrowed down.</p>
<p><b>Note:</b> The content on the page can also be updated by using JavaScript, rather than waiting for the user to make a second request. The global <code>fod</code> object can be used to pass a callback that is executed when the updated values are available. For example:</p>
<p>' &lt;script type="text/javascript"&gt; window.onload = function() { fod.complete(function(data) { /* access values here. e.g. data.device.hardwarename */ }); }; &lt;/script&gt; '</p>
<h2>Manual installation using WordPress Plugin Manager</h2>
<ol type="1">
<li>Download <code>fiftyonedegrees</code> zip package from <a href="https://wordpress.org/plugins/wp-plugin-manager/">WordPress Plugin Manager</a>.</li>
<li>Upload the entire <code>fiftyonedegrees</code> zip folder to the <code>/wp-content/plugins/</code> directory.</li>
<li>Visit <code>Plugins</code>.</li>
<li>Activate the 51Degrees plugin.</li>
</ol>
<h2>Manual installation using GitHub Repository</h2>
<p>If you want to build the plugin yourself and install locally, you will need to follow these steps:</p>
<ol type="1">
<li>Clone 51Degrees plugin GitHub repository from <a href="https://github.com/51Degrees/pipeline-wordpress/">here</a>.</li>
<li>Execute <code>composer install</code> in the <code>lib</code> directory.</li>
<li>Create a new directory outside this repo called <code>fiftyonedegrees</code> and copy all directories and php files from the root of this repo into it.</li>
<li>Copy the <code>fiftyonedegrees</code> directory into your 'wp-content/plugins' directory.</li>
<li>Activate the 51Degrees plugin.</li>
</ol>
<p>This plugin is free and provided without warranty of any kind. Use it at your own risk, 51Degrees is not responsible for any improper use of this plugin, nor for any damage it might cause to your site. Always backup all your data before installing a new plugin. </p>
</section></div><!-- PageDoc -->
</div><!-- primary -->
</div><!-- inner-->
<!-- HTML footer for doxygen 1.8.15-->
<!-- start footer part -->
<section id="nav-path" class="g-footer g-footer--docs"><!-- id is needed for treeview function! -->
    <p class="g-footer__copyright">Generated by
    <a href="http://www.doxygen.org/index.html">
    <b>doxygen</b></a> 1.8.15
  </p>
</section>
</div>
</main>
</div>
</body>
</html>
