<!-- HTML header for doxygen 1.8.15-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>51Degrees API Documentation: Apple Model Detection</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="examplegrabber.js"></script>
<script type="text/javascript" src="testedversionsgrabber.js"></script>
<script type="text/javascript" src="search51.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="docs-main.min.css" rel="stylesheet" type="text/css" />
</head>
<body class="l-docs-index p-doxygen">
<div class="l-index__content">
<!--div id="top"--><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea" class="g-header g-header--docs">
  <h1 class="c-brand">
  <a id="projectlogo" href="index.html" class="c-brand__link"><img class="c-brand__image" alt="Logo" src="logo-51Degrees-Docs.png" style="width:172px;"/></a>
  <span class="c-tagline">51Degrees API Documentation
   &#160;<span id="projectnumber">4.4</span>
  </span>
  </h1>
  <div id="projectalign" style="padding-left: 0.5em;">
  </div>
  <div id="main-nav"></div>
  <section class="g-search">
    <div class="c-search is-openable" id="searchOpenable">
    <form class="c-search__form">
      <div class="b-form-group b-form-group--with-icon">
        <label for="inputSearch" class="b-text--hidden">Search</label>
        <img src="icon-search.svg" class="b-icon" alt="Search" />
        <input type="text" class="c-search__input" id="inputSearch" onkeyup="javascript:onSearch(this,event.keyCode)" placeholder="Search" aria-label="Search">
      </div>
    </form>
    <div class="c-search__content" id="searchContent">
    </div>
  </div> 
  </section>
</div>
<!-- end header part -->
<main class="g-main">
<!-- Generated by Doxygen 1.8.15 -->
<!-- top -->
	<div class="g-docs__sidenav">																														         <nav id="nav-tree-contents" class="c-sidenav">																														     <h4 class="c-sidenav__heading">Documentation</h4>																									         <div id="nav-sync" class="sync"></div>
  <ul class="c-sidenav__list">																														     </ul>																																				   </nav>    </div><script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('_device_detection__features__apple_detection.html','');});
/* @license-end */
</script>
<div id="doc-content" class="g-docs__content">
<div class="PageDoc"><div class="g-docs__header">
<div class="c-breadcrumb">
  <ul class="c-breadcrumb">
<li class="c-breadcrumb__item"><a class="c-breadcrumb__link" href="_device_detection__index.html">Device Detection</a></li><li class="c-breadcrumb__item"><a class="c-breadcrumb__link" href="_device_detection__features__index.html">Device Detection Features</a></li><li class="c-breadcrumb__item"><a class="c-breadcrumb__link" href="_device_detection__features__apple_detection.html">Apple Model Detection</a></li>  </ul>
</div>
<h2 class="g-docs__page-title">Apple Model Detection </h2></div><!--header-->
<div class="g-docs__inner">
<div class="g-docs__primary" id="primary">
<section class="g-docs__section"><h1 class="g-docs__section-heading">Introduction</h1>
<p>In the early days of the internet, the <a href="https://51degrees.com/blog/understanding-user-agent-string">User-Agent header</a> was made part of the <a href="https://datatracker.ietf.org/doc/html/rfc1945#page-46">HTTP/1.0 specification</a>.</p>
<blockquote class="doxtable">
<p>This is for statistical purposes, the tracing of protocol violations, and automated recognition of user agents for the sake of tailoring responses to avoid particular user agent limitations. Although it is not required, user agents should include this field with requests. </p>
</blockquote>
<p>Generally, web browsers will populate the User-Agent header with information that allows the web server to derive details about the operating system and browser that are being used to make the request.</p>
<p>In the case of mobile devices, the native hardware model name is also included in the User-Agent. This means the web server can additionally determine details about the hardware making the request.</p>
<p>Apple are unique as they have never included the mobile device model name in the User-Agent. Consequently, it is generally not possible to identify Apple devices from the User-Agent alone. (This is not always the case. Some apps, such as Facebook, will add the model name to the User-Agent when they make requests)</p>
<p>Additionally, Apple have certain tools within their system that can change the values within the User-Agent. For example, an iPhone browsing the web in Desktop mode would have a User-Agent that identifies the device as a Mac, rather than an iPhone. It is impossible to detect an iPhone browsing in Desktop mode from the User-Agent alone.</p>
<p>51Degrees uses client-side code to collect additional information from the device, which is used to determine the model. This page explains how the feature works.</p>
<p>If you just want to see it working, the <a class="el" href="_examples__device_detection__getting_started__web__index.html">getting started - web</a> examples demonstrate this capability.</p>
<h1 class="g-docs__section-heading">Overview</h1>
<p>In order to determine the Apple device model, we need additional data, collected from client-side code. For languages that support the Pipeline API, gathering this data and sending it back to the server is handled by the <a class="el" href="_features__client_side_evidence.html">client-side evidence</a> feature.</p>
<p>The JavaScript that runs on the client comes from the <a href="https://51degrees.com/developers/property-dictionary?item=Device%7CJavascript">JavascriptHardwareProfile</a> property. In order to explain how this is used, we need to define a little 51Degrees terminology:</p>
<ul>
<li>A profile can be thought of as a database record. A profile can represent a hardware device, a specific operating system version or web browser version. The profile will contain values for the properties that are returned by device detection. For example, <code>model name</code> or <code>release date</code>.</li>
<li>A profile id is the unique identifier for a specific profile.</li>
<li>A device id is a combination of profile ids. For example, <code>12280-118061-117398</code> represents an unknown model of iPhone running iOS 15.3 and using Safari 15.3.</li>
</ul>
<p>The 51Degrees device database contains 3 top-level 'group' profiles for Apple devices:</p>
<ul>
<li>iPhone</li>
<li>iPad</li>
<li>Mac</li>
</ul>
<p>The User-Agent header can be used to determine which of these groups the device making the request falls in to. Each of these profiles has a <code>JavascriptHardwareProfile</code> property value that contains slightly different JavaScript snippets that need to be executed on the client device.</p>
<p>In each case, the snippet will get several values and then use those values to determine the profile id of the hardware profile representing the actual model.</p>
<p>This profile id is then passed back to the server. When detection is performed, the group profile that can be determined from the User-Agent is swapped for the profile that was passed from the client-side code.</p>
<h1 class="g-docs__section-heading">Server-side detection</h1>
<p>For customers that are unable to use dynamically generated JavaScript, we have a solution that uses data gathered from static JavaScript to perform the detection server-side.</p>
<p>This feature is currently only available for .NET. Examples are <a class="el" href="_examples__device_detection__apple_server_side__index.html">here</a>.</p>
<p>Note that data will still need to be gathered using client-side JavaScript. A snippet containing the JavaScript functions that will retrieve the necessary values from the client device are available from our <a href="https://cloud.51degrees.com/cdn/apple-functions.js">cloud service</a>.</p>
<p>This will need to be integrated into your own infrastructure and the values it collects need to be passed back to the server so they can be supplied as evidence values to the API.</p>
<p>This JavaScript may be updated with new Apple device detection mechanisms in future. These changes would need to be reflected in your own implementation.</p>
<p>The engine that determines the Apple device on the server uses a JSON file, which can be automatically updated using the <a class="el" href="_features__automatic_datafile_updates.html">normal mechanisms</a>. This JSON file can also be downloaded from our <a href="https://cloud.51degrees.com/cdn/macintosh.data.json">cloud service</a> as needed.</p>
<h1 class="g-docs__section-heading">Further reading</h1>
<ul>
<li>This <a class="el" href="_device_detection__features__apple_device_table.html">table</a> contains a break down of exactly which iPhone and iPad models our solution can identify.</li>
<li>Check the <a class="el" href="_examples__device_detection__getting_started__web__index.html">getting started - web</a> examples for a demonstration of how to use this functionality.</li>
<li>Browse the many <a href="https://51degrees.com/resources/blogs/tag/Apple">blogs</a> that we've produced relating to Apple. </li>
</ul>
</section></div><!-- PageDoc -->
</div><!-- primary -->
</div><!-- inner-->
<!-- HTML footer for doxygen 1.8.15-->
<!-- start footer part -->
<section id="nav-path" class="g-footer g-footer--docs"><!-- id is needed for treeview function! -->
    <p class="g-footer__copyright">Generated by
    <a href="http://www.doxygen.org/index.html">
    <b>doxygen</b></a> 1.8.15
  </p>
</section>
</div>
</main>
</div>
</body>
</html>
