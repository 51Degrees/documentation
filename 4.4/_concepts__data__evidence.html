<!-- HTML header for doxygen 1.8.15-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>51Degrees API Documentation: Evidence</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="examplegrabber.js"></script>
<script type="text/javascript" src="search51.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="docs-main.min.css" rel="stylesheet" type="text/css" />
</head>
<body class="l-docs-index p-doxygen">
<div class="l-index__content">
<!--div id="top"--><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea" class="g-header g-header--docs">
  <h1 class="c-brand">
  <a id="projectlogo" href="index.html" class="c-brand__link"><img class="c-brand__image" alt="Logo" src="logo-51Degrees-Docs.png" style="width:172px;"/></a>
  <span class="c-tagline">51Degrees API Documentation
   &#160;<span id="projectnumber">4.4</span>
  </span>
  </h1>
  <div id="projectalign" style="padding-left: 0.5em;">
  </div>
  <div id="main-nav"></div>
  <section class="g-search">
    <div class="c-search is-openable" id="searchOpenable">
    <form class="c-search__form">
      <div class="b-form-group b-form-group--with-icon">
        <label for="inputSearch" class="b-text--hidden">Search</label>
        <img src="icon-search.svg" class="b-icon" alt="Search" />
        <input type="text" class="c-search__input" id="inputSearch" onkeyup="javascript:onSearch(this,event.keyCode)" placeholder="Search" aria-label="Search">
      </div>
    </form>
    <div class="c-search__content" id="searchContent">
    </div>
  </div> 
  </section>
</div>
<!-- end header part -->
<main class="g-main">
<!-- Generated by Doxygen 1.8.15 -->
<!-- top -->
	<div class="g-docs__sidenav">																														         <nav id="nav-tree-contents" class="c-sidenav">																														     <h4 class="c-sidenav__heading">Documentation</h4>																									         <div id="nav-sync" class="sync"></div>
  <ul class="c-sidenav__list">																														     </ul>																																				   </nav>    </div><script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('_concepts__data__evidence.html','');});
/* @license-end */
</script>
<div id="doc-content" class="g-docs__content">
<div class="PageDoc"><div class="g-docs__header">
<div class="c-breadcrumb">
  <ul class="c-breadcrumb">
<li class="c-breadcrumb__item"><a class="c-breadcrumb__link" href="_concepts__index.html">Concepts</a></li><li class="c-breadcrumb__item"><a class="c-breadcrumb__link" href="_concepts__data__index.html">Data</a></li><li class="c-breadcrumb__item"><a class="c-breadcrumb__link" href="_concepts__data__evidence.html">Evidence</a></li>  </ul>
</div>
<h2 class="g-docs__page-title">Evidence </h2></div><!--header-->
<div class="g-docs__inner">
<div class="g-docs__primary" id="primary">
<section class="g-docs__section"><h1 class="g-docs__section-heading">Introduction</h1>
<p><b>Evidence</b> is the term for input data used in the <a class="el" href="_concepts__pipeline.html">Pipeline</a>. <b>Evidence</b> can be anything but will usually be details relating to a <a class="el" href="_concepts__terminology.html#Concepts_Terminology_WebRequest">web request</a> such as HTTP headers, source IP address, or query string parameters.</p>
<p>The <b>evidence</b> values are used by <a class="el" href="_concepts__flow_elements__aspect_engine.html">aspect engines</a> to determine the details of the <a class="el" href="_concepts__terminology.html#Concepts_Terminology_Aspect">aspect</a> they are concerned with.</p>
<h1 class="g-docs__section-heading">Data structure</h1>
<p>The precise details of the data structure behind <b>evidence</b> will vary depending on the language. However, all languages use a similar approach of exposing the stored evidence values as a collection of string key/value pairs.</p>
<p>By convention, the key is all lower-case and uses a '.' character to separate the values into categories based on the source of that data. For example, all keys starting with 'header.' will have come from an HTTP header.</p>
<p>The second part of the key indicates the specific name within the category. For example 'header.user-agent' refers to the 'User-Agent' HTTP header.</p>
<p>Categories used by 51Degrees are:</p>
<ul>
<li>header - For values from HTTP headers</li>
<li>cookie - For values from cookies</li>
<li>query - For values from the query string</li>
<li>server - For values from the request metadata</li>
</ul>
<h1 class="g-docs__section-heading">Lifecycle</h1>
<p><b>Evidence</b> is fully managed by the <a class="el" href="_concepts__data__flow_data.html">flow data</a> that contains it.</p>
<h1 class="g-docs__section-heading">Thread-safety</h1>
<p><b>Evidence</b> is not thread-safe and should never be written to by <a class="el" href="_concepts__flow_elements__flow_element.html">flow elements</a>.</p>
<h1 class="g-docs__section-heading">Client-side evidence</h1>
<p><b>Evidence</b> will usually be drawn from one of 4 places:</p>
<ul>
<li>HTTP headers</li>
<li>Cookies</li>
<li>Query parameters</li>
<li>Request metadata such as source IP address</li>
</ul>
<p>Any device making a request to a web site will include some of this information. For example, the User-Agent HTTP header is almost always populated as part of a request. In some cases though, additional <b>evidence</b> providing more detail can be obtained from code running directly on the client device. In some cases, this may even be required. For example, this technique can be used to retrieve the latitude and longitude from devices that have this capability. Typically, this <b>evidence</b> will be sent back to the server as a cookie in the next request.</p>
<p>For more details, see the <a class="el" href="_features__client_side_evidence.html">client-side evidence</a> page.</p>
<p>This use of client-side code requires additional JavaScript to be sent to the client device. The Pipeline <a class="el" href="_features__web_integration.html">web integration</a> is designed to handle this seamlessly for a variety of languages and web frameworks. </p>
</section></div><!-- PageDoc -->
</div><!-- primary -->
</div><!-- inner-->
<!-- HTML footer for doxygen 1.8.15-->
<!-- start footer part -->
<section id="nav-path" class="g-footer g-footer--docs"><!-- id is needed for treeview function! -->
    <p class="g-footer__copyright">Generated by
    <a href="http://www.doxygen.org/index.html">
    <b>doxygen</b></a> 1.8.15
  </p>
</section>
</div>
</main>
</div>
</body>
</html>
